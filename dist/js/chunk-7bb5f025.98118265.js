(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7bb5f025"],{"00e7":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-row",{attrs:{gutter:8}},[n("a-col",{attrs:{span:5}},[n("s-tree",{attrs:{dataSource:e.orgTree,openKeys:e.openKeys,search:!0},on:{"update:openKeys":function(t){e.openKeys=t},"update:open-keys":function(t){e.openKeys=t},click:e.handleClick,add:e.handleAdd,titleClick:e.handleTitleClick}})],1),n("a-col",{attrs:{span:19}},[n("s-table",{ref:"table",attrs:{size:"default",columns:e.columns,data:e.loadData,alert:!1,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},scopedSlots:e._u([{key:"action",fn:function(t,s){return n("span",{},[e.$auth("table.update")?[n("a",{on:{click:function(t){return e.handleEdit(s)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}})]:e._e(),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v(" 更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("详情")])]),e.$auth("table.disable")?n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("禁用")])]):e._e(),e.$auth("table.delete")?n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("删除")])]):e._e()],1)],1)],2)}}])})],1)],1),n("org-modal",{ref:"modal",on:{ok:e.handleSaveOk,close:e.handleSaveClose}})],1)},r=[],a=(n("99af"),n("1bff")),o=n("2af9"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"操作",width:600,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"父级ID"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["parentId",{}],expression:"['parentId', {}]"}],attrs:{disabled:""}})],1),n("a-form-item",{attrs:{label:"机构名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orgName",{}],expression:"['orgName', {}]"}]})],1)],1)],1)],1)},d=[],u=(n("d3b7"),n("5530")),c={name:"OrgModal",data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},visible:!1,confirmLoading:!1,mdl:{}}},beforeCreate:function(){this.form=this.$form.createForm(this)},created:function(){},methods:{add:function(e){this.edit({parentId:e})},edit:function(e){var t=this;this.mdl=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(Object(u["a"])({},e))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this;this.form.validateFields((function(t,n){t||(e.confirmLoading=!0,new Promise((function(e){setTimeout((function(){return e()}),2e3)})).then((function(){e.$message.success("保存成功"),e.$emit("ok")})).catch((function(){})).finally((function(){e.confirmLoading=!1,e.close()})))}))},handleCancel:function(){this.close()}}},l=c,m=n("2877"),_=Object(m["a"])(l,i,d,!1,null,null,null),p=_.exports,f=n("0fea"),y={name:"TreeList",components:{STable:o["m"],STree:a["a"],OrgModal:p},data:function(){var e=this;return{openKeys:["key-01"],queryParam:{},columns:[{title:"#",dataIndex:"no"},{title:"成员名称",dataIndex:"description"},{title:"登录次数",dataIndex:"callNo",sorter:!0,needTotal:!0,customRender:function(e){return e+" 次"}},{title:"状态",dataIndex:"status",needTotal:!0},{title:"更新时间",dataIndex:"updatedAt",sorter:!0},{title:"操作",dataIndex:"action",width:"150px",scopedSlots:{customRender:"action"}}],loadData:function(t){return Object(f["h"])(Object.assign(t,e.queryParam)).then((function(e){return e.result}))},orgTree:[],selectedRowKeys:[],selectedRows:[]}},created:function(){var e=this;Object(f["e"])().then((function(t){e.orgTree=t.result}))},methods:{handleClick:function(e){this.queryParam={key:e.key},this.$refs.table.refresh(!0)},handleAdd:function(e){this.$message.info("提示：你点了 ".concat(e.key," - ").concat(e.title," ")),this.$refs.modal.add(e.key)},handleTitleClick:function(e){},titleClick:function(e){},handleSaveOk:function(){},handleSaveClose:function(){},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t}}},h=y,b=(n("3d5f"),Object(m["a"])(h,s,r,!1,null,null,null));t["default"]=b.exports},"0fea":function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"i",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"j",(function(){return m})),n.d(t,"q",(function(){return _})),n.d(t,"o",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"p",(function(){return y})),n.d(t,"n",(function(){return h})),n.d(t,"t",(function(){return b})),n.d(t,"u",(function(){return g})),n.d(t,"s",(function(){return v})),n.d(t,"v",(function(){return O})),n.d(t,"r",(function(){return j})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return C})),n.d(t,"b",(function(){return x}));var s=n("b775"),r={sys_dict_page:"/admin/sys_dict_page",sys_dict_layer_top:"/admin/sys_dict_layer_top",sys_dict_add:"/admin/sys_dict_add",sys_dict_update:"/admin/sys_dict_update",sys_dict_delete:"/admin/sys_dict_remove",sys_permission_page:"/admin/sys_permission_page",sys_permission_add:"/admin/sys_permission_add",sys_permission_update:"/admin/sys_permission_update",sys_permission_delete:"/admin/sys_permission_remove",sys_role_page:"/admin/sys_role_page",sys_role_add:"/admin/sys_role_add",sys_role_update:"/admin/sys_role_update",sys_role_delete:"/admin/sys_role_delete",sys_permission_all:"/admin/sys_permission_all",sys_permission_layer_top:"/admin/sys_permission_layer_top",sys_user_page:"/admin/sys_user_page",sys_user_add:"/admin/sys_user_add",sys_user_update:"/admin/sys_user_update",sys_user_remove:"/admin/sys_user_remove",sys_role_layer_top:"/admin/sys_role_layer_top",user:"/admin/user",role:"/admin/role",service:"/service",permission:"/permission",permissionNoPager:"/permission/no-pager",orgTree:"/org/tree"};function a(e){return Object(s["b"])({url:r.role,method:"get",params:e})}function o(e){return Object(s["b"])({url:r.service,method:"get",params:e})}function i(e){return Object(s["b"])({url:r.permissionNoPager,method:"get",params:e})}function d(e){return Object(s["b"])({url:r.orgTree,method:"get",params:e})}function u(e){return Object(s["b"])({url:r.sys_permission_page,method:"post",data:e})}function c(e){return Object(s["b"])({url:r.sys_permission_add,method:"post",data:e})}function l(e){return Object(s["b"])({url:r.sys_permission_update,method:"post",data:e})}function m(e){return Object(s["b"])({url:r.sys_permission_delete,method:"post",data:e})}function _(e){return Object(s["b"])({url:r.sys_permission_layer_top,method:"post",data:e})}function p(e){return Object(s["b"])({url:r.sys_role_page,method:"post",data:e})}function f(e){return Object(s["b"])({url:r.sys_role_add,method:"post",data:e})}function y(e){return Object(s["b"])({url:r.sys_role_update,method:"post",data:e})}function h(e){return Object(s["b"])({url:r.sys_role_delete,method:"post",data:e})}function b(e){return Object(s["b"])({url:r.sys_user_page,method:"post",data:e})}function g(e){return Object(s["b"])({url:r.sys_user_remove,method:"post",data:e})}function v(e){return Object(s["b"])({url:r.sys_user_add,method:"post",data:e})}function O(e){return Object(s["b"])({url:r.sys_user_update,method:"post",data:e})}function j(e){return Object(s["b"])({url:r.sys_role_layer_top,method:"post",data:e})}function k(e){return Object(s["b"])({url:r.sys_dict_page,method:"post",data:e})}function w(e){return Object(s["b"])({url:r.sys_dict_add,method:"post",data:e})}function C(e){return Object(s["b"])({url:r.sys_dict_update,method:"post",data:e})}function x(e){return Object(s["b"])({url:r.sys_dict_delete,method:"post",data:e})}},"3d5f":function(e,t,n){"use strict";var s=n("3f31"),r=n.n(s);r.a},"3f31":function(e,t,n){}}]);