(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21465a58"],{"0fea":function(e,t,r){"use strict";r.d(t,"g",(function(){return s})),r.d(t,"h",(function(){return o})),r.d(t,"f",(function(){return i})),r.d(t,"e",(function(){return l})),r.d(t,"k",(function(){return u})),r.d(t,"i",(function(){return c})),r.d(t,"l",(function(){return d})),r.d(t,"j",(function(){return p})),r.d(t,"q",(function(){return m})),r.d(t,"o",(function(){return _})),r.d(t,"m",(function(){return f})),r.d(t,"p",(function(){return b})),r.d(t,"n",(function(){return y})),r.d(t,"t",(function(){return v})),r.d(t,"u",(function(){return h})),r.d(t,"s",(function(){return g})),r.d(t,"v",(function(){return w})),r.d(t,"r",(function(){return j})),r.d(t,"c",(function(){return O})),r.d(t,"a",(function(){return x})),r.d(t,"d",(function(){return C})),r.d(t,"b",(function(){return k}));var a=r("b775"),n={sys_dict_page:"/admin/sys_dict_page",sys_dict_layer_top:"/admin/sys_dict_layer_top",sys_dict_add:"/admin/sys_dict_add",sys_dict_update:"/admin/sys_dict_update",sys_dict_delete:"/admin/sys_dict_remove",sys_permission_page:"/admin/sys_permission_page",sys_permission_add:"/admin/sys_permission_add",sys_permission_update:"/admin/sys_permission_update",sys_permission_delete:"/admin/sys_permission_remove",sys_role_page:"/admin/sys_role_page",sys_role_add:"/admin/sys_role_add",sys_role_update:"/admin/sys_role_update",sys_role_delete:"/admin/sys_role_delete",sys_permission_all:"/admin/sys_permission_all",sys_permission_layer_top:"/admin/sys_permission_layer_top",sys_user_page:"/admin/sys_user_page",sys_user_add:"/admin/sys_user_add",sys_user_update:"/admin/sys_user_update",sys_user_remove:"/admin/sys_user_remove",sys_role_layer_top:"/admin/sys_role_layer_top",user:"/admin/user",role:"/admin/role",service:"/service",permission:"/permission",permissionNoPager:"/permission/no-pager",orgTree:"/org/tree"};function s(e){return Object(a["b"])({url:n.role,method:"get",params:e})}function o(e){return Object(a["b"])({url:n.service,method:"get",params:e})}function i(e){return Object(a["b"])({url:n.permissionNoPager,method:"get",params:e})}function l(e){return Object(a["b"])({url:n.orgTree,method:"get",params:e})}function u(e){return Object(a["b"])({url:n.sys_permission_page,method:"post",data:e})}function c(e){return Object(a["b"])({url:n.sys_permission_add,method:"post",data:e})}function d(e){return Object(a["b"])({url:n.sys_permission_update,method:"post",data:e})}function p(e){return Object(a["b"])({url:n.sys_permission_delete,method:"post",data:e})}function m(e){return Object(a["b"])({url:n.sys_permission_layer_top,method:"post",data:e})}function _(e){return Object(a["b"])({url:n.sys_role_page,method:"post",data:e})}function f(e){return Object(a["b"])({url:n.sys_role_add,method:"post",data:e})}function b(e){return Object(a["b"])({url:n.sys_role_update,method:"post",data:e})}function y(e){return Object(a["b"])({url:n.sys_role_delete,method:"post",data:e})}function v(e){return Object(a["b"])({url:n.sys_user_page,method:"post",data:e})}function h(e){return Object(a["b"])({url:n.sys_user_remove,method:"post",data:e})}function g(e){return Object(a["b"])({url:n.sys_user_add,method:"post",data:e})}function w(e){return Object(a["b"])({url:n.sys_user_update,method:"post",data:e})}function j(e){return Object(a["b"])({url:n.sys_role_layer_top,method:"post",data:e})}function O(e){return Object(a["b"])({url:n.sys_dict_page,method:"post",data:e})}function x(e){return Object(a["b"])({url:n.sys_dict_add,method:"post",data:e})}function C(e){return Object(a["b"])({url:n.sys_dict_update,method:"post",data:e})}function k(e){return Object(a["b"])({url:n.sys_dict_delete,method:"post",data:e})}},"32c9":function(e,t,r){},"88bc":function(e,t,r){(function(t){var r=1/0,a=9007199254740991,n="[object Arguments]",s="[object Function]",o="[object GeneratorFunction]",i="[object Symbol]",l="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=l||u||Function("return this")();function d(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function p(e,t){var r=-1,a=e?e.length:0,n=Array(a);while(++r<a)n[r]=t(e[r],r,e);return n}function m(e,t){var r=-1,a=t.length,n=e.length;while(++r<a)e[n+r]=t[r];return e}var _=Object.prototype,f=_.hasOwnProperty,b=_.toString,y=c.Symbol,v=_.propertyIsEnumerable,h=y?y.isConcatSpreadable:void 0,g=Math.max;function w(e,t,r,a,n){var s=-1,o=e.length;r||(r=C),n||(n=[]);while(++s<o){var i=e[s];t>0&&r(i)?t>1?w(i,t-1,r,a,n):m(n,i):a||(n[n.length]=i)}return n}function j(e,t){return e=Object(e),O(e,t,(function(t,r){return r in e}))}function O(e,t,r){var a=-1,n=t.length,s={};while(++a<n){var o=t[a],i=e[o];r(i,o)&&(s[o]=i)}return s}function x(e,t){return t=g(void 0===t?e.length-1:t,0),function(){var r=arguments,a=-1,n=g(r.length-t,0),s=Array(n);while(++a<n)s[a]=r[t+a];a=-1;var o=Array(t+1);while(++a<t)o[a]=r[a];return o[t]=s,d(e,this,o)}}function C(e){return S(e)||R(e)||!!(h&&e&&e[h])}function k(e){if("string"==typeof e||E(e))return e;var t=e+"";return"0"==t&&1/e==-r?"-0":t}function R(e){return I(e)&&f.call(e,"callee")&&(!v.call(e,"callee")||b.call(e)==n)}var S=Array.isArray;function F(e){return null!=e&&N(e.length)&&!K(e)}function I(e){return T(e)&&F(e)}function K(e){var t=A(e)?b.call(e):"";return t==s||t==o}function N(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function A(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function T(e){return!!e&&"object"==typeof e}function E(e){return"symbol"==typeof e||T(e)&&b.call(e)==i}var L=x((function(e,t){return null==e?{}:j(e,p(w(t,1),k))}));e.exports=L}).call(this,r("c8ba"))},"8b8b":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-card",{attrs:{bordered:!1}},[r("div",{staticClass:"table-page-search-wrapper"},[r("a-form",{attrs:{layout:"inline"}},[r("a-row",{attrs:{gutter:48}},[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"角色ID"}},[r("a-input",{attrs:{placeholder:"请输入"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"状态"}},[r("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[r("a-select-option",{attrs:{value:"0"}},[e._v("全部")]),r("a-select-option",{attrs:{value:"1"}},[e._v("关闭")]),r("a-select-option",{attrs:{value:"2"}},[e._v("运行中")])],1)],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("span",{staticClass:"table-page-search-submitButtons"},[r("a-button",{attrs:{type:"primary"}},[e._v("查询")]),r("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("重置")])],1)])],1)],1)],1),r("s-table",{attrs:{"row-key":"id",size:"default",columns:e.columns,data:e.loadData,expandedRowKeys:e.expandedRowKeys},on:{expand:e.handleExpand},scopedSlots:e._u([{key:"expandedRowRender",fn:function(t){return r("div",{staticStyle:{margin:"0"}},[r("a-row",{style:{marginBottom:"12px"},attrs:{gutter:24}},e._l(t.permissions,(function(t,a){return r("a-col",{key:a,style:{marginBottom:"12px",height:"23px"},attrs:{span:12}},[r("a-col",{attrs:{lg:4,md:24}},[r("span",[e._v(e._s(t.permissionName)+"：")])]),t.actionList&&t.actionList.length>0?r("a-col",{attrs:{lg:20,md:24}},e._l(t.actionList,(function(t){return r("a-tag",{key:t,attrs:{color:"cyan"}},[e._v(e._s(e._f("permissionFilter")(t)))])})),1):r("a-col",{attrs:{span:20}},[e._v("-")])],1)})),1)],1)}},{key:"status",fn:function(t){return r("a-tag",{attrs:{color:"blue"}},[e._v(e._s(e._f("statusFilter")(t)))])}},{key:"createTime",fn:function(t){return r("span",{},[e._v(e._s(e._f("moment")(t)))])}},{key:"action",fn:function(t,a){return r("span",{},[r("a",{on:{click:function(t){return e.handleEdit(a)}}},[e._v("编辑")]),r("a-divider",{attrs:{type:"vertical"}}),r("a-dropdown",[r("a",{staticClass:"ant-dropdown-link"},[e._v(" 更多 "),r("a-icon",{attrs:{type:"down"}})],1),r("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[e._v("详情")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[e._v("禁用")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[e._v("删除")])])],1)],1)],1)}}])}),r("a-modal",{staticStyle:{top:"20px"},attrs:{title:"操作",width:800},on:{ok:e.handleOk},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("a-form",{staticClass:"permission-form",attrs:{form:e.form}},[r("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"唯一识别码",hasFeedback:"",validateStatus:"success"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}],attrs:{placeholder:"唯一识别码",disabled:"disabled"}})],1),r("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"角色名称",hasFeedback:"",validateStatus:"success"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name"],expression:"['name']"}],attrs:{placeholder:"起一个名字"}})],1),r("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"状态",hasFeedback:"",validateStatus:"warning"}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{initialValue:1}],expression:"['status', { initialValue: 1 }]"}]},[r("a-select-option",{attrs:{value:1}},[e._v("正常")]),r("a-select-option",{attrs:{value:2}},[e._v("禁用")])],1)],1),r("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述",hasFeedback:""}},[r("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["describe"],expression:"['describe']"}],attrs:{rows:5,placeholder:"...",id:"describe"}})],1),r("a-divider",[e._v("拥有权限")]),e._l(e.permissions,(function(t){return[t.actionsOptions&&t.actionsOptions.length>0?r("a-form-item",{key:t.permissionId,staticClass:"permission-group",attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:t.permissionName}},[r("a-checkbox",[e._v("全选")]),r("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["permissions."+t.permissionId],expression:"[`permissions.${permission.permissionId}`]"}],attrs:{options:t.actionsOptions}})],1):e._e()]}))],2)],1)],1)},n=[],s=(r("4de4"),r("d81d"),r("5530")),o=r("88bc"),i=r.n(o),l=r("2af9"),u=r("0fea"),c=r("45e8"),d={1:"启用",2:"禁用"},p=[{title:"唯一识别码",dataIndex:"id"},{title:"角色名称",dataIndex:"name"},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"创建时间",dataIndex:"createTime",scopedSlots:{customRender:"createTime"},sorter:!0},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],m={name:"TableList",components:{STable:l["m"]},data:function(){var e=this;return{description:"列表使用场景：后台管理中的权限管理以及角色管理，可用于基于 RBAC 设计的角色权限控制，颗粒度细到每一个操作类型。",visible:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},form:this.$form.createForm(this),permissions:[],advanced:!1,queryParam:{},columns:p,loadData:function(t){return Object(u["g"])(t).then((function(t){return e.expandedRowKeys=t.result.data.map((function(e){return e.id})),t.result}))},expandedRowKeys:[],selectedRowKeys:[],selectedRows:[]}},filters:{statusFilter:function(e){return d[e]},permissionFilter:function(e){var t=c["a"][e];return t&&t.label}},created:function(){Object(u["h"])().then((function(e){})),Object(u["g"])().then((function(e){}))},methods:{handleEdit:function(e){var t=this;this.visible=!0;var r={};this.permissions=e.permissions.map((function(e){var t="permissions.".concat(e.permissionId);r[t]=e.actionList;var a=e.actionEntitySet.map((function(e){return{label:e.describe,value:e.action,defaultCheck:e.defaultCheck}}));return Object(s["a"])(Object(s["a"])({},e),{},{actionsOptions:a})})),this.$nextTick((function(){t.form.setFieldsValue(i()(e,["id","status","describe","name"])),t.form.setFieldsValue(r)}))},handleOk:function(e){e.preventDefault(),this.form.validateFields((function(e,t){}))},onChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},handleExpand:function(e,t){e?this.expandedRowKeys.push(t.id):this.expandedRowKeys=this.expandedRowKeys.filter((function(e){return t.id!==e}))},toggleAdvanced:function(){this.advanced=!this.advanced}},watch:{}},_=m,f=(r("8fa6"),r("2877")),b=Object(f["a"])(_,a,n,!1,null,"1bee34c6",null);t["default"]=b.exports},"8fa6":function(e,t,r){"use strict";var a=r("32c9"),n=r.n(a);n.a}}]);